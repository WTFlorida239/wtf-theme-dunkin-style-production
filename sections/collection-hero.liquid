{%- liquid
  assign show_description = section.settings.show_description
-%}

{%- style -%}
  #shopify-section-{{ section.id }} .collection-hero {
    padding: clamp(3.8rem, 8vw, 7rem) 0;
    background: linear-gradient(135deg, rgba(255, 102, 0, 0.85) 0%, rgba(255, 133, 51, 0.72) 100%);
    color: #fff;
  }

  #shopify-section-{{ section.id }} .collection-hero__inner {
    max-width: 960px;
    margin: 0 auto;
    display: grid;
    gap: 1.8rem;
    text-align: center;
  }

  #shopify-section-{{ section.id }} .collection-hero__back {
    justify-self: center;
    display: inline-flex;
    align-items: center;
    gap: 0.6rem;
    padding: 0.8rem 1.6rem;
    border-radius: 999px;
    background: rgba(255, 255, 255, 0.18);
    color: inherit;
    font-weight: 600;
    text-decoration: none;
    transition: background 0.2s ease, transform 0.2s ease;
  }

  #shopify-section-{{ section.id }} .collection-hero__back:hover {
    background: rgba(255, 255, 255, 0.28);
    transform: translateY(-2px);
  }

  #shopify-section-{{ section.id }} .collection-hero__title {
    margin: 0;
    font-size: clamp(2.8rem, 5vw, 4.4rem);
    font-weight: 800;
  }

  #shopify-section-{{ section.id }} .collection-hero__description {
    margin: 0;
    font-size: 1.7rem;
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.9);
  }
{%- endstyle -%}

<section class="collection-hero">
  <div class="collection-hero__inner page-width">
    {% if section.settings.show_back_link %}
      <a class="collection-hero__back" href="{{ section.settings.back_link | default: routes.root_url }}">
        ‚Üê {{ section.settings.back_label | default: 'Back to menu' }}
      </a>
    {% endif %}

    <h1 class="collection-hero__title">{{ section.settings.title | default: collection.title }}</h1>

    {% if show_description and collection.description != blank %}
      <div class="collection-hero__description rte">{{ collection.description }}</div>
    {% elsif section.settings.fallback_description != blank %}
      <p class="collection-hero__description">{{ section.settings.fallback_description }}</p>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Collection hero",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "checkbox",
      "id": "show_back_link",
      "label": "Show back link",
      "default": true
    },
    {
      "type": "url",
      "id": "back_link",
      "label": "Back link URL"
    },
    {
      "type": "text",
      "id": "back_label",
      "label": "Back link label",
      "default": "Back to menu"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Heading"
    },
    {
      "type": "checkbox",
      "id": "show_description",
      "label": "Show collection description",
      "default": true
    },
    {
      "type": "textarea",
      "id": "fallback_description",
      "label": "Fallback description",
      "default": "Explore handcrafted beverages, edibles, and botanicals curated for Cape Coral."
    }
  ],
  "presets": [
    {
      "name": "Collection hero"
    }
  ]
}
{% endschema %}
